p8105\_hw2\_cz2657
================

## Problem 1

Reading and cleaning Mr. Trash Wheel sheet

``` r
library(tidyverse)
```

    ## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──

    ## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
    ## ✓ tibble  3.1.4     ✓ dplyr   1.0.7
    ## ✓ tidyr   1.1.3     ✓ stringr 1.4.0
    ## ✓ readr   2.0.1     ✓ forcats 0.5.1

    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

``` r
library(readxl)
```

``` r
trash_df = 
  read_excel("Trash-Wheel-Collection-Totals-8-6-19.xlsx", sheet = "Mr. Trash Wheel", range = "A2:N408", col_names = TRUE) %>% 
  janitor::clean_names() %>% 
  drop_na("dumpster") 

rain2018_df = read_excel("Trash-Wheel-Collection-Totals-8-6-19.xlsx", sheet = "2018 Precipitation", range = "A2:B14", col_names = TRUE) %>% mutate(year = 2018) %>% janitor::clean_names() %>% drop_na(total)

rain2019_df = read_excel("Trash-Wheel-Collection-Totals-8-6-19.xlsx", sheet = "2019 Precipitation", range = "A2:B14", col_names = TRUE) %>% mutate(year = 2019) %>% janitor::clean_names() %>% drop_na(total)

rain_df = full_join(rain2018_df, rain2019_df) %>% 
  mutate(month = month.name[month]) %>% 
  rename(total_precipitation_in = total)
```

    ## Joining, by = c("month", "total", "year")

The `trash_df` dataset has 344 observations and includes the variables
`weight_tons` and `volume_cubic_yards` which describe the amount of
garbage consumed by Mr. Trash Wheel. Furthermore, it provides detail
around the number of plastic bottles (`plastic_bottles`), cigarette
butts (`cigarette_butts`), and grocery bags (`grocery_bags`) consumed by
Mr. Trash Wheel. Excitingly, Mr. Trash Wheel powered a maximum of
93.6666667 using the trash collected for a single dumpster. The median
number of `sports_balls` in a dumpster in 2019 was 8.5.

The `rain_df`dataset has 18 observations and includes the variables
month, total\_precipitation\_in, year. Total precipitation in 2018 was
70.33 inches.

## Problem 2

``` r
pols_df = read_csv("pols-month.csv") %>% 
  janitor::clean_names() %>% 
  separate(mon, into = c("year", "month", "day")) %>% 
  mutate(month = month.name[as.numeric(month)], year = as.numeric(year), president = ifelse(prez_gop, "gop", "dem")) %>% 
  select (-prez_dem, -prez_gop, -day)
```

    ## Rows: 822 Columns: 9

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
snp_df = read_csv("snp.csv") %>% 
  janitor::clean_names() %>% 
  mutate(date = as.Date(date,"%m/%d/%y ")) %>% 
  separate(date, into = c("year", "month", "day")) %>% 
  mutate(month = month.name[as.numeric(month)], day = as.numeric(day), year = as.numeric(year)) %>% 
  select(year, month, everything(), -day) %>% 
  rename(snp_close_value = close)
```

    ## Rows: 787 Columns: 2

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
unemployment_df = read_csv("unemployment.csv") %>% 
  pivot_longer(Jan:Dec, names_to = "month") %>% 
  mutate(month = match(month, month.abb), month = month.name[month]) %>% 
  janitor::clean_names() %>% 
  rename(percent_unemployed = value)
```

    ## Rows: 68 Columns: 13

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
fte_df = left_join(pols_df, snp_df, by = c("year", "month")) %>% 
  left_join(unemployment_df, by = c("year", "month"))
```

## Confirm that I can delete day in snp data set

## Confirm that I can not round

The `prez_df` dataset provides information on the number of Republican
and Democratic government officials during each month beginning in 1947,
including senators (`sen_gop` and `sen_dem`), representatives (`rep_gop`
and `rep_dem`), and governors (`gov_gop` and `gov_dem`), as well as the
party of the `president`. It has 9variables and 822 observations.

The `snp_df` dataset provides the closing value of the S&P stock index
on a given date of each month in a given year. It has 3 variables and
787 observations.

The `unemployment_df` dataset provides information on the percentage of
unemployment in a given `month` of a given `year`. It has 3 variables
and 816 observations.

Finally, the compiled dataset, `fte_df` combines this information by
month and year to provide the unemployment percentage, S&P closing
value, and political representation information on a monthly basis from
`r min(pull(fte_df, year))` to 2015, although some information is
missing especially in earlier years. The dataset has 822 observations
and 11 variables, including all `president`, `percent_unemployed`, and
`snp_close_value`.
